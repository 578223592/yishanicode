import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,o as a,c as l,a as t,d as e,b as r,w as c,f as p}from"./app-DOaE_-Ea.js";const s={},d={class:"hint-container tip"},h=t("p",{class:"hint-container-title"},"友情提示",-1),m=t("li",null,[t("strong",null,"内容建设："),e(" 内容正在不断的完善中，如果对内容有疑问或者希望添加内容，请留言，欢迎提出建议。")],-1),u=t("strong",null,"转载说明：",-1),g=p('<h2 id="如果要建立联合索引-字段的顺序有什么需要注意吗" tabindex="-1"><a class="header-anchor" href="#如果要建立联合索引-字段的顺序有什么需要注意吗"><span>如果要建立联合索引，字段的顺序有什么需要注意吗？</span></a></h2><p><strong>回答要点：</strong></p><ul><li>最左匹配原则</li><li>区分度高的字段放在前面</li></ul><p><strong>具体：</strong></p><p><strong>最左匹配原则：</strong> 联合索引遵循最左匹配原则，即在查询时，只有按照索引字段的顺序从最左边开始连续使用索引字段，索引才会被使用。因此，根据最常用作查询条件的字段放在联合索引的最左边，可以提高索引的利用率。</p><p><strong>区分度高的字段放在前面：</strong> 将区分度高的字段放在联合索引的前面，可以减少索引的扫描范围，提高查询效率。</p><div class="hint-container tip"><p class="hint-container-title">拓展</p><ol><li>常见的误区：最左匹配原则匹配的是索引字段的顺序，而与SQL语句中使用联合索引的顺序无关。举个例子：如果联合索引是a、b、c字段，那么如果SQL语句是<code>select * from table where a=1 and b=2 and c=3</code>和<code>select * from table where c=3 and b=2 and a=1</code>是一样的。</li></ol></div><h2 id="怎么确定语句是否走了索引" tabindex="-1"><a class="header-anchor" href="#怎么确定语句是否走了索引"><span>怎么确定语句是否走了索引？</span></a></h2><p><strong>回答要点：</strong></p><ul><li>explain命令查看执行计划，关注key（实际使用到的索引）字段。</li></ul><p><strong>具体：</strong></p><p>可以通过 explian查看执行计划来确认。</p><p>对于执行计划，参数有：</p><p><code>possible_keys</code> 字段表示可能用到的索引；</p><p><code>key</code> 字段表示实际用的索引，如果这一项为 NULL，说明没有使用索引；</p><p><code>key_len</code> 表示索引的长度；</p><p><code>rows</code> 表示扫描的数据行数。</p><p><code>type</code> 表示数据扫描类型，我们需要重点看这个。</p><p>如果 <code>typy=all</code>，代表没有走索引，进行了全表扫描。如果 key 不为 null，说明用到了索引。</p><div class="hint-container tip"><p class="hint-container-title">拓展</p><p>相关问题：</p><ol><li>有一个命令特别慢，如何排查？ 一般从：explian查看执行计划分析；慢日志查询分析 两个角度出发</li></ol></div><h2 id="一般是建立哪些字段的索引呢" tabindex="-1"><a class="header-anchor" href="#一般是建立哪些字段的索引呢"><span>一般是建立哪些字段的索引呢？</span></a></h2><p><strong>回答要点：</strong></p><ul><li><code>WHERE</code> 查询条件的字段</li><li>用于 <code>GROUP BY</code> 和 <code>ORDER BY</code> 的字段</li><li>区分度大的字段</li></ul><p><strong>具体：</strong></p><p>索引最大的好处是提高查询速度，我经常针对下面场景来建立索引：</p><p>字段有唯一性限制的，比如商品编码；</p><p>经常用于 <code>WHERE</code> 查询条件的字段，这样能够提高整个表的查询速度，如果查询条件不是一个字段，可以建立联合索引。</p><p>经常用于 <code>GROUP BY</code> 和 <code>ORDER BY</code> 的字段，这样在查询的时候就不需要再去做一次排序了，因为我们都已经知道了建立索引之后在 B+Tree 中的记录都是排序好的。</p><div class="hint-container tip"><p class="hint-container-title">拓展</p><p>相关问题：</p><ol><li>有一个命令特别慢，如何排查？ 一般从：explian查看执行计划分析；慢日志查询分析 两个角度出发</li><li>如果字段区分度过小，那么MySQL可能会认为这个字段没有索引，直接走全表扫描。 解决方案：思路都是增加区分度，具体做法类似于身份证建立索引的方法：1.使用hash建立索引；2.先倒序再建立索引</li></ol></div>',29);function y(_,f){const o=i("RouteLink");return a(),l("div",null,[t("div",d,[h,t("ul",null,[m,t("li",null,[u,e(" 本站文章在创作过程中，部分内容整合了许多大佬的观点，在这里表示感谢，详见"),r(o,{to:"/more_about/context.html"},{default:c(()=>[e("版权说明")]),_:1}),e("，如有侵权或者不希望转载，请联系我添加出处或者删除相关内容。同时，如需转载本站文章，转载请在文首注明出处。")])])]),g])}const x=n(s,[["render",y],["__file","introduction.html.vue"]]),k=JSON.parse('{"path":"/notes/database/introduction.html","title":"数据库-MySQL","lang":"zh-CN","frontmatter":{"title":"数据库-MySQL","icon":"file","date":"2024-05-04T00:00:00.000Z","category":["八股"],"tag":["数据库","MySQL"],"description":"友情提示 内容建设： 内容正在不断的完善中，如果对内容有疑问或者希望添加内容，请留言，欢迎提出建议。 转载说明： 本站文章在创作过程中，部分内容整合了许多大佬的观点，在这里表示感谢，详见，如有侵权或者不希望转载，请联系我添加出处或者删除相关内容。同时，如需转载本站文章，转载请在文首注明出处。 如果要建立联合索引，字段的顺序有什么需要注意吗？ 回答要点：...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/notes/database/introduction.html"}],["meta",{"property":"og:site_name","content":"一山的学习笔记"}],["meta",{"property":"og:title","content":"数据库-MySQL"}],["meta",{"property":"og:description","content":"友情提示 内容建设： 内容正在不断的完善中，如果对内容有疑问或者希望添加内容，请留言，欢迎提出建议。 转载说明： 本站文章在创作过程中，部分内容整合了许多大佬的观点，在这里表示感谢，详见，如有侵权或者不希望转载，请联系我添加出处或者删除相关内容。同时，如需转载本站文章，转载请在文首注明出处。 如果要建立联合索引，字段的顺序有什么需要注意吗？ 回答要点：..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-04T08:42:56.000Z"}],["meta",{"property":"article:author","content":"一山"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:tag","content":"MySQL"}],["meta",{"property":"article:published_time","content":"2024-05-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-04T08:42:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"数据库-MySQL\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-04T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-04T08:42:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"一山\\",\\"url\\":\\"http://yishanicode.top\\"}]}"]]},"headers":[{"level":2,"title":"如果要建立联合索引，字段的顺序有什么需要注意吗？","slug":"如果要建立联合索引-字段的顺序有什么需要注意吗","link":"#如果要建立联合索引-字段的顺序有什么需要注意吗","children":[]},{"level":2,"title":"怎么确定语句是否走了索引？","slug":"怎么确定语句是否走了索引","link":"#怎么确定语句是否走了索引","children":[]},{"level":2,"title":"一般是建立哪些字段的索引呢？","slug":"一般是建立哪些字段的索引呢","link":"#一般是建立哪些字段的索引呢","children":[]}],"git":{"createdTime":1714557672000,"updatedTime":1714812176000,"contributors":[{"name":"奔狼\\\\Administrator","email":"123@","commits":3}]},"readingTime":{"minutes":3.49,"words":1047},"filePathRelative":"notes/database/introduction.md","localizedDate":"2024年5月4日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">友情提示</p>\\n<ul>\\n<li><strong>内容建设：</strong> 内容正在不断的完善中，如果对内容有疑问或者希望添加内容，请留言，欢迎提出建议。</li>\\n<li><strong>转载说明：</strong> 本站文章在创作过程中，部分内容整合了许多大佬的观点，在这里表示感谢，详见<a href=\\"/more_about/context.html\\" target=\\"_blank\\">版权说明</a>，如有侵权或者不希望转载，请联系我添加出处或者删除相关内容。同时，如需转载本站文章，转载请在文首注明出处。</li>\\n</ul>\\n</div>","autoDesc":true}');export{x as comp,k as data};
